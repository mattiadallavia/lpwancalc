<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
		<link rel="stylesheet" href="style.css">
		<title>lpwancalc</title>
	</head>
	<body>
		<div class="container-fluid">
			<div class="row">
				<div class="col">
					<h2 class="h5">Link parameters</h2>
					<table class="table table-sm">
						<thead>
							<tr>
								<th scope="col">Symbol</th>
								<th scope="col">Name</th>
								<th scope="col">Value</th>
								<th scope="col">Unit</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Ptx</td>
								<td>Transmit power</td>
								<td><input type="number" class="form-control form-control-sm" id="in-pow-tx" value="0.025"></td>
								<td>W</td>
							</tr>
							<tr>
								<td>Gtx</td>
								<td>Transmitter antenna gain</td>
								<td><input type="number" class="form-control form-control-sm" id="in-gain-tx" value="0"></td>
								<td>dBi</td>
							</tr>
							<tr>
								<td>Grx</td>
								<td>Receiver antenna gain</td>
								<td><input type="number" class="form-control form-control-sm" id="in-gain-rx" value="0"></td>
								<td>dBi</td>
							</tr>
							<tr>
								<td>d</td>
								<td>Distance</td>
								<td><input type="number" class="form-control form-control-sm" id="in-dist" value="1000"></td>
								<td>m</td>
							</tr>
						</tbody>
					</table>
					<h2 class="h5">System parameters</h2>
					<table class="table table-sm">
						<thead>
							<tr>
								<th scope="col">Symbol</th>
								<th scope="col">Name</th>
								<th scope="col">Value</th>
								<th scope="col">Unit</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>f</td>
								<td>Frequency</td>
								<td><input type="number" class="form-control form-control-sm" id="in-freq" value="868000000"></td>
								<td>Hz</td>
							</tr>
							<tr>
								<td>R</td>
								<td>Data rate</td>
								<td><input type="number" class="form-control form-control-sm" id="in-data-rate" value="1200"></td>
								<td>bit/s</td>
							</tr>
							<tr>
								<td>Eb/N0</td>
								<td>Energy per bit to Noise power spectral density ratio</td>
								<td><input type="number" class="form-control form-control-sm" id="in-ebn0" value="12"></td>
								<td>dB</td>
							</tr>
							<tr>
								<td>NF</td>
								<td>Noise figure</td>
								<td><input type="number" class="form-control form-control-sm" id="in-noise-figure" value="6"></td>
								<td>dB</td>
							</tr>
							<tr>
								<td></td>
								<td>Modulation technique</td>
								<td>
									<select class="form-control form-control-sm" id="in-mod">
										<option>FSK</option>
									</select>
								</td>
								<td></td>
							</tr>
						</tbody>
					</table>
					<button type="submit" class="btn btn-primary" onclick="calc()">Calc</button>
				</div>
				<div class="col">
					<h2 class="h5">Link budget</h2>
					<table class="table table-sm">
						<thead>
							<tr>
								<th scope="col">Symbol</th>
								<th scope="col">Name</th>
								<th scope="col">Value</th>
								<th scope="col">Unit</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Ptx</td>
								<td>Transmit power</td>
								<td><output id="out-pow-tx"></output></td>
								<td>dBm</td>
							</tr>
							<tr>
								<td>Gtx</td>
								<td>Transmitter antenna gain</td>
								<td><output id="out-gain-tx"></output></td>
								<td>dBi</td>
							</tr>
							<tr>
								<td>PL</td>
								<td>Path attenuation</td>
								<td><output id="out-path-loss"></output></td>
								<td>dBm</td>
							</tr>
							<tr>
								<td>Grx</td>
								<td>Receiver antenna gain</td>
								<td><output id="out-gain-rx"></output></td>
								<td>dBi</td>
							</tr>
							<tr>
								<td>Prx</td>
								<td>Receiver signal power</td>
								<td><output id="out-pow-rx"></output></td>
								<td>dBm</td>
							</tr>
						</tbody>
					</table>
					<h2 class="h5">Receiver sensitivity</h2>
					<table class="table table-sm">
						<thead>
							<tr>
								<th scope="col">Symbol</th>
								<th scope="col">Name</th>
								<th scope="col">Value</th>
								<th scope="col">Unit</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Preq</td>
								<td>Required recived power</td>
								<td><output id="out-pow-req"></output></td>
								<td>dBm</td>
							</tr>
							<tr>
								<td></td>
								<td>Power margin</td>
								<td><output id="out-pow-margin"></output></td>
								<td>dB</td>
							</tr>
						</tbody>
					</table>
					<h2 class="h5">Link characteristics</h2>
					<table class="table table-sm">
						<thead>
							<tr>
								<th scope="col">Symbol</th>
								<th scope="col">Name</th>
								<th scope="col">Value</th>
								<th scope="col">Unit</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Pe</td>
								<td>Bit error probability</td>
								<td><output id="out-p-err-bit"></output></td>
								<td>%</td>
							</tr>
							<tr>
								<td>B</td>
								<td>Bandwidth</td>
								<td><output id="out-bandwidth"></output></td>
								<td>Hz</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="col">
					<h2 class="h5">Path attenuation</h2>
					<div id="plot-att"></div>
				</col>
			</div>
		</div>

		<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
		<script src="https://www.gstatic.com/charts/loader.js"></script>
		<script src="script.js"></script>
	</body>
</html>
